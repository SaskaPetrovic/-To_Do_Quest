<div class="container" style="width: 100%; max-width: 390px;">
  <h2 class="text-center">PROFILE</h2>

  <!-- Email and Level -->
  <div class="row mb-1">
    <div class="col padding-user">
      <h5>USERNAME</h5>
    </div>
    <div class="col padding-lv">
      <h6>Lv.<%= @user.level %></h6>
    </div>
    <div class="w-100"></div>
  </div>

  <!-- Profile Image -->
  <div class="row">
    <div class="col-7 d-flex justify-content-center">
      <%= image_tag "profile-icon.png", class: "profile-image", style: "width: 90%;" %>
    </div>

    <!-- Stats and Class, rajouter la bonne classe en fonction des stats -->
    <div class="col-5 d-flex flex-column align-items-start padding-fixed">
      <div class="d-flex justify-content-between w-100 pb-1 align-items-end border-bottom">
        <h6>Mage</h6>
        <%= image_tag "icons/mage.png", class: "icons" %>
      </div>
      <div class="d-flex justify-content-between w-100 mt-3">
        <h6>INT</h6>
        <h6>78</h6> <!-- Remplacer 78 par @user.int -->
      </div>
      <div class="d-flex justify-content-between w-100">
        <h6>MANA</h6>
        <h6>99</h6> <!-- Remplacer 99 par @user.mana -->
      </div>
      <div class="d-flex justify-content-between w-100">
        <h6>DEX</h6>
        <h6>54</h6> <!-- Remplacer 54 par @user.dex -->
      </div>
      <div class="d-flex justify-content-between w-100">
        <h6>STR</h6>
        <h6>76</h6> <!-- Remplacer 76 par @user.str -->
      </div>
      <div class="d-flex justify-content-between w-100">
        <h6>CHA</h6>
        <h6>90</h6> <!-- Remplacer 90 par @user.cha -->
      </div>
    </div>
  </div>

  <!-- Experience Bar -->
  <div class="mt-4">
    <div class="progress" style="height: 20px;">
      <div class="progress-bar" role="progressbar" style="width: <%= @user.experience_percentage %>%;" aria-valuenow="<%= @user.experience_percentage %>" aria-valuemin="0" aria-valuemax="100"></div>
        <h6 class="text-center">Exp.</h6>
    </div>
    <h5 class="text-center"><%= @user.experience %> To Next Lv.</h5>
  </div>

    <!-------------------------------------Tabs ---------------------------->
    <div class="tabs">
        <button class="tab-link active" onclick="showTab('activity')">Activity</button>
        <button class="tab-link" onclick="showTab('stats')">Stats</button>
    </div>

    <!------------------------- Tab Contents --------------------------->
      <div id="activity" class="tab-content active">
          <div>
              <h5>MEMO</h5>
              <p>Main task</p>
              <p><%= @user.memo %></p>
          </div>
          <div>
              <h5>STATUS</h5>
              <p><%= @user.status %></p>
          </div>
      </div>

      <div id="stats" class="tab-content">
          <h5>CHART</h5>
      </div>

    <!-------------------------------JAVASCRIPT ONGLET----------------------->
    <script>
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            document.querySelectorAll('.tab-link').forEach(button => {
                button.classList.remove('active');
            });

            document.getElementById(tabId).classList.add('active');
            document.querySelector([onclick="showTab('${tabId}')"]).classList.add('active');
        }
        document.addEventListener('DOMContentLoaded', () => {
            showTab('activity');
        });
    </script>
  </div>
</body>
</html>
